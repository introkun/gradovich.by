---
layout: post
title: "[Черновик] Blackberry AppWorld из Беларуси (России, Украины и т.п.)"
description: "В данной статье я расскажу вам, как скачивать с серверов Blackberry, находясь в странах, в которых нет сервиса Blackberry"
category: mobile
tags: [blackberry, fiddler, playbook]
---
{% include JB/setup %}

Что вам понадобится:
--------------------
- компьютер c Windows на борту
- устройство Blackberry (проверено на Playbook)
- компьютер и устройство должны быть в одной WiFi сети и должны видеть друг друга (сделайте ping [IP адрес Blackberry] с вашего компьютера, чтобы проверить это)

VPN
---

Нам нужен IP адрес "нужной" страны для того, чтобы AppWorld нас пропустил (Америка, Германия и т.д.)
Для этого можно воспользоваться VPN. [Hideme.ru](https://hideme.ru/vpn/) предоставляет пробный доступ на сутки. Этого вполне достаточно для того, чтобы скачать нужные программы и обновить ОС.
Рассказывать, как настраивать VPN не буду. На следующем шаге вам нужен настроенный и подключенный VPN. IP адрес проверить можно, например, на [2ip.ru](http://2ip.ru). IP Должен быть американским, немецким и т.п.

Fiddler
-------

Fiddler - это отладочный HTTP прокси сервер. Если не поняли какое-то из этих слов, обратитесь к Википедии.
Fiddler понадобится нам для 2 целей:

- предоставить на Blackberry устройство интернет, полученный по VPN с вашего компьютера;
- "отдать" большие файлы (предварительно скачанные менеджером закачек) прямо с вашего компьютера

Далее:

- скачайте и установите [Fiddler](http://fiddler2.com/get-fiddler)
- запустите Fiddler
- настраиваем Fiddler, чтобы можно было подключиться удаленно к компьютеру: Tools->Fiddler Options->Connections, ставим галку "Allow remote computers to connect". Теперь у вас есть прокси сервер, запущенный на порту 8888 вашего компьютера. Узнайте IP адрес вашего компьютера, для того, чтобы можно было подключиться к нему с Blackberry.

Blackberry
----------

Включаем устройство, подключаемся к WiFi сети и где-то в настройках сети нужно найти настройки Proxy.
Proxy Host: [IP адрес вашего компьютера]
Proxy Port: 8888
Авторизация прокси не нужна.
Если все настроили правильно, то при нажатии Next в окне инициализации Blackberry (или в AppWorld на проинициализированном устройстве), то на компьютере в окне Fiddler вы увидите информацию о подключениях.

Далее пытаетесь проинициализировать устройство:

- страну указываете ту, к VPN серверу который вы подключены (например, USA)
- язык указываете English (USA)

В конце инициализации устройство попытается обновить операционную систему. Обновление ОС представляет собой множество файликов с расширением BAR. Как показывает опыт, большие файлы (больше 2 Мб) ни в какую не хотят качаться устройством с сервера Blackberry. Если вы видите ошибку про подключение на экране Blackberry, то это скорее всего такой случай. Смотите в Fiddler и вы должны обратить внимание на записи со значением в колонке "Result" отличным от 200 (HTTP Success).
Нажимаем на строку с такой ошибкой и смотрим в правую часть Fiddler в окно "Inspectors". Открываем первую вкладку "Headers" и смотрим, что написано в первой строчке "Request Headers", например, "GET&nbsp;/download/blabla.os.update.twitter.bar". Я точно не помню как выглядят названия пакетов, но примерно понятно, что устройство пыталось скачать Twitter клиент и у него не получилось. Возвращаемся в правую часть Fiddler и открываем контекстное меню выделенного элемента. Там находим Copy->Just URL.
Теперь открываем ваш любимый менеджер закачек (например, Free Download Manager) и скачиваем файл по ссылке, скопированной в Fiddler в буфер обмена (качается, кстати, вполне неплохо; непонятно, почему Blackberry не может его скачать).

Возвращаемся в Fiddler - ошибочный элемент все еще выбран в левой части окна Fiddler.

- в правой части окна открываем Auto Responder;
- ставим галку "Enable automatic responses";
- жмем кнопку "Add Rule"
- внизу в "Rule Editor" в первом поле должен быть написано "EXACT:" и далее URL файла, который вы только что скачали. Во второе поле вставьте путь к файлу на диске, куда вы его скачали.

Вкратце, если устройство еще раз запросит такой файл, то он не будет качаться с сервера Blackberry, а его отдаст Fiddler с вашего компьютера.

Данный метод можно применять как для апдейтов ОС, так и для скачивания приложений или игр из Blackberry AppWorld.